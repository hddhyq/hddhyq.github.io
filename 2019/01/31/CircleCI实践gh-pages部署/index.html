<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="baidu-site-verification" content="hoM8zKNZAC"><meta><title>CircleCI实践gh-pages部署 - hddhyq&#039;s blog</title><meta description="这里展示一下CircleCI集成与github之间联系。"><meta property="og:type" content="article"><meta property="og:title" content="CircleCI实践gh-pages部署"><meta property="og:url" content="https://hddhyq.github.io/2019/01/31/CircleCI%E5%AE%9E%E8%B7%B5gh-pages%E9%83%A8%E7%BD%B2/"><meta property="og:site_name" content="hddhyq&#039;s blog"><meta property="og:description" content="这里展示一下CircleCI集成与github之间联系。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://en.gravatar.com/userimage/154887614/195fa361a4d6896c0a6115026aefb041.png?size=300"><meta property="article:published_time" content="2019-01-31T14:22:35.000Z"><meta property="article:modified_time" content="2020-03-27T08:06:33.234Z"><meta property="article:author" content="hddhyq"><meta property="article:tag" content="自动化"><meta property="article:tag" content="git"><meta property="article:tag" content="GitHub"><meta property="article:tag" content="CircleCI"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://en.gravatar.com/userimage/154887614/195fa361a4d6896c0a6115026aefb041.png?size=300"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hddhyq.github.io/2019/01/31/CircleCI%E5%AE%9E%E8%B7%B5gh-pages%E9%83%A8%E7%BD%B2/"},"headline":"CircleCI实践gh-pages部署","image":[],"datePublished":"2019-01-31T14:22:35.000Z","dateModified":"2020-03-27T08:06:33.234Z","author":{"@type":"Person","name":"hddhyq"},"description":"这里展示一下CircleCI集成与github之间联系。"}</script><link rel="alternative" href="/atom.xml" title="hddhyq&#039;s blog" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.12/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="/css/style.css"><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="/js/globalUtils.js"></script></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://images-1253206717.cos.ap-guangzhou.myqcloud.com/blog/logo.png" alt="hddhyq&#039;s blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/message">留言</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/hddhyq"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-01-31T14:22:35.000Z">2019-01-31</time><a class="commentCountImg" href="/2019/01/31/CircleCI%E5%AE%9E%E8%B7%B5gh-pages%E9%83%A8%E7%BD%B2/#comment-container"><span class="display-none-class">9bf42b0a68d46b102c0a1507727f186c</span><img class="not-gallery-item" src="/img/chat.svg"> <span class="commentCount" id="9bf42b0a68d46b102c0a1507727f186c"> 99+</span>    </a><span class="level-item"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/CircleCI/">CircleCI</a></span><span class="level-item">24 分钟 读完 (大约 3629 个字)</span><span class="level-item" id="busuanzi_container_page_pv"><i class="far fa-eye"></i>&nbsp;&nbsp;<span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">CircleCI实践gh-pages部署</h1><div class="content"><p>这里展示一下CircleCI集成与github之间联系。 <a id="more"></a></p>
<p>当你在Circle中添加一个项目时。相关的 GitHub 设置中将会使用您在注册时为CircleCI提供的权限。</p>
<ul>
<li><code>deloy key</code> 用来从 GitHub 中查看项目源代码。</li>
<li><code>service hook</code> 用来通知 CircleCI ，当你向 GitHub 中提交代码。</li>
</ul>
<p>常见 push hooks：</p>
<p>另外 两个钩子： * 提供PR hooks，用来储存 PR 请求。 * 如果PR钩子在forked的项目中，CircleCI将会在PRs在分支仓库创建时提交。</p>
<p>详见 <a href="https://circleci.com/docs/2.0/workflows/#using-contexts-and-filtering-in-your-workflows">workflows filters</a></p>
<p>CircleCI在每次测试都会清理容器。你的 github 的仪表盘中也会有显示。</p>
<p><img src="https://images-1253206717.cos.ap-guangzhou.myqcloud.com/blog/circleci/status_check.png" /></p>
<h1 id="使你circleci的项目能够检出私有仓库">使你CircleCI的项目能够检出私有仓库</h1>
<p>如果你的测试过程涉及多个存储库，除了部署密钥之外，CircleCI还需要GitHub用户密钥，因为每个部署密钥仅对一个储存库有效，而GitHub用户莫要可以访问所有GitHub储存库。查看<a href="https://circleci.com/docs/2.0/add-ssh-key">adding ssh keys</a>章节来查看更多。</p>
<p>在 <strong>Project Settings &gt; Checkout SSH keys</strong> 页面提供给 CircleCI GitHub用户私钥。CircleCI创建和关联新的SSH密钥来访问你的所有的仓库。</p>
<h2 id="用户密钥安全">用户密钥安全</h2>
<p>CircleCI 绝对不会公开你的SSH密钥。</p>
<p>请记住，SSH密钥只能分享给信任的用户，所有的 GitHub 合作者拥有了SSH密钥都可以访问你的仓库。所以要确保你的SSH密钥的安全。</p>
<h2 id="用户密钥访问相关错误信息">用户密钥访问相关错误信息</h2>
<p>下面的错误表明你需要添加用户密钥</p>
<p><strong>Python</strong>: 在 <code>pip install</code>步骤期间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR: Repository not found.</span><br></pre></td></tr></table></figure>
<p><strong>Ruby</strong>: 在<code>bundle install</code>步骤期间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Permission denied (publickey).</span><br></pre></td></tr></table></figure>
<h1 id="创建机器用户">创建机器用户</h1>
<p>要对多个存储库进行细粒度访问，请考虑为CircleCI项目创建机器用户。一个机器用户是你为运行自动化任务而创建的GitHub用户。通过使用机器用户的SSH密钥，你可以允许任何人对仓库进行，构造，测试和部署项目。创建机器用户还可以降低丢失与单个用户关联的凭据的风险。</p>
<p>要为机器用户使用SSH密钥，请遵循下列步骤：</p>
<p><strong>注意</strong>: 要执行下列步骤，机器用户必须拥有管理员权限。完成项目添加后，可以将机器用户权限设为只读。</p>
<ol type="1">
<li>根据<a href="https://developer.github.com/v3/guides/managing-deploy-keys/#machine-users">instructions on GitHub</a>，创建机器用户权限。</li>
<li>作为机器用户登陆Github。</li>
<li><a href="https://circleci.com/login">登陆CircleCI</a>。当GitHub提醒你需要授权给CircleCI的时候，点击 <strong>Authorize application</strong> 按钮。</li>
<li>在<a href="https://circleci.com/add-projects">添加项目</a>, follow你希望使用机器用户访问的项目。</li>
<li>在 <strong>Project Settings &gt; Checkout SSH keys</strong>页面，点击 <strong>Authorize With GitHub</strong> 按钮。这将给CircleCI权限作为机器用户去创造和上传SSH密钥。</li>
<li>点击 <strong>Create and add XXXX user Key</strong> 按钮。</li>
</ol>
<p>现在Circle将使用机器用户的SSH密钥来使用Git命令行运行你的构建。</p>
<h1 id="权限概述">权限概述</h1>
<p>CircleCI要求你的版本控制系统（VCS）提供以下权限，<a href="http://developer.github.com/v3/oauth/#scopes">GitHub permissions model</a></p>
<h2 id="读权限">读权限</h2>
<ul>
<li>获取用户的邮件地址</li>
</ul>
<h2 id="写权限">写权限</h2>
<ul>
<li>给仓库添加部署密钥</li>
<li>给仓库添加服务器钩子</li>
<li>获取用户所有仓库的列表</li>
<li>给用户账户添加SSH密钥</li>
</ul>
<p><strong>注意</strong>: CircleCI只有在必须的时候才会请求权限。但是，CircleCI受到VCS提供的权限约束。举例，从GitHub获取所有用户仓库，需要写权限，因为GitHub没有提供只读权限。</p>
<p>如果你强烈的希望减少CircleCI的使用，考虑向你的VCS供应商联系。</p>
<h2 id="团队账户权限">团队账户权限</h2>
<p>本节概述了可用于满足各种业务需求的团队和个人帐户选择：</p>
<ol type="1">
<li><p>如果单个用户拥有个人GitHub账户，他会使用它登录CircleCI然后在CircleCI里follow任务。GitHub中该存储库上的每个“协作者”也能够跟踪项目并在推送提交时构建在CircleCI上。由于GitHub储存协作者的方式，CircleCI不会显示完整的列表。有关合作者的完整列表需要参阅GitHub。</p></li>
<li><p>如果一个个人用户升级到团队用户，他们将被允许添加用户，甚至给那些运行构建任务的合作者管理者权限。团队用户的拥有者必须到CircleCI的<a href="https://circleci.com/add-projects">Add Project</a>，点击链接到GitHub应用权限界面，选择授权CircleCI来使组织的成员通过他们的账户follow项目。拥有两名成员的团队帐户每月25美元，而不是个人帐户每月7美元。</p></li>
<li><p>对于最多五人的团队，个人Bitbucket账户可免费用于私人回购。个人可以创建Bitbucket团队，添加成员并根据需要为需要构建的人员提供管理员权限。该项目将出现在CircleCI中，供会员遵循，无需额外费用。</p></li>
</ol>
<h2 id="如何为github组织重新启用circleci">如何为GitHub组织重新启用CircleCI</h2>
<p>这一章节描述了如何在GitHub组织启用了第三方应用程序限制后重新启用CircleCi。参见[GitHub Seeting]。</p>
<ul>
<li>"申请进入"，如果你不是组织的管理者会有这种问题。管理者应该批准访问。</li>
<li>"授予访问权限"如果你是管理者应该给予。</li>
</ul>
<p>获取访问权限后，CircleCi的行为将会正常。</p>
<p>GitHub最近添加了在每个组织级别<a href="third%20party%20application%20access%20on%20a%20per-organization%20level">准第三方程序访问权限</a>。再此之前，组织的成员都能授权给应用（生成 OAhth token 关联他们的GitHub用户账户），而且应用可以使用 OAuth token 来代表用户行事，可以使用OAuth flow中的任何权限。</p>
<p>现在的当第三方组织限制打开的时候，OAuth token默认情况下没有办法访问第三方数据。不管是OAuth进程之前或者之后，你必须准备为组织申请权限，然后组织管理者需要批准权限。</p>
<p>你也可以在GitHub的组织设置界面打开第三方访问权限。并单击“第三方应用程序访问策略”部分中的“设置应用程序访问限制”按钮。</p>
<p>如果您对已运行CircleCI的组织启用这些限制，那么我们将停止从GitHub接收推送事件挂钩（因此不会构建新的推送）。而且API调用将被拒绝（例如，导致重新构建旧版本以使源检出失败。）要使CircleCI再次运行，您必须授予对CircleCI应用程序的访问权限。</p>
<h1 id="部署密钥和用户密钥">部署密钥和用户密钥</h1>
<h2 id="什么是部署密钥">什么是部署密钥？</h2>
<p>当你创建新项目的时候，CircleCi将会为你的项目在基于网络的分布式系统上（例如GitHub和Bitbucket）创建密钥。部署密钥是仓库专属的密钥。如果你使用GitHub作为你的分布式系统，而且GitHub有用公钥，CircleCi将会储存私有秘钥。部署密钥给CircleCi访问单个仓库的权限。为了保护CircleCi不能推送内容到你的仓库，部署密钥是只读的。</p>
<p>如果你想要在构建中push内容到你的仓库，你需要一个拥有读写取新鲜的部署密钥，即用户密钥。下面几步展示了为你的VCS创建用户密钥。</p>
<h2 id="什么是用户密钥">什么是用户密钥？</h2>
<p>一个用户密钥是用户专属的SSH密钥。你的VCS拥有公钥，CircleCi存储私钥。拥有私钥能够给予你模仿用户的能力，像使用<code>git</code>访问项目。</p>
<h2 id="创建github用户密钥">创建GitHub用户密钥</h2>
<p>在下面的例子中，GitHub仓库是<code>https://github.com/you/test-repo</code>，你的CircleCi项目是<a href="https://circleci.com/gh/you/test-repo">https://circleci.com/gh/you/test-repo</a>。</p>
<ol type="1">
<li>根据<a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/">GitHub instructions</a>创建SSH密钥。当提示输入密码的时候，一定不要输入密码。</li>
</ol>
<p><strong>警告</strong>：默认情况下，ssh-keygen中的最新更新不会以PEM格式生成密钥。如果你的密钥不是以<code>-----BEGIN RSA PRIVATE KEY-----</code>开始，通过使用<code>ssh-keygen -m PEM -t rsa -C "your_email@example.com"</code>来强制生成密钥。</p>
<ol type="1">
<li><p>到<code>https://github.com/you/test-repo/settings/keys</code>，点击"Add deploy key"。在 Title 输入框写下标题，复制粘贴你在第一步创建的密钥，点击"Allow write access"，然后点击"Add key"。</p></li>
<li><p>到 <a href="https://circleci.com/gh/you/test-repo/edit#ssh">https://circleci.com/gh/you/test-repo/edit#ssh</a>，添加在上面创建的密钥到"Hostname"输入框，输入"github.com"，添加提交按钮</p></li>
<li><p>在你的 config.yml ，添加指纹到<code>add_ssh_keys</code>。</p></li>
</ol>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy-job:</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">add_ssh_keys:</span></span><br><span class="line">          <span class="attr">fingerprints:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">"SO:ME:FIN:G:ER:PR:IN:T"</span></span><br></pre></td></tr></table></figure>
<h2 id="这些键是怎么用的">这些键是怎么用的？</h2>
<p>当CircleCi构建你的项目的时候，私有秘钥会被创建到<code>.ssh</code>目录，随后将SSH配置为与您的版本控制提供程序进行通信。此后，私有秘钥会给用户提供下列权限：</p>
<ul>
<li>检查主要项目。</li>
<li>检查任何 GitHub 托管的子项目。</li>
<li>检查任何 GitHub 托管的私有依赖项。</li>
<li>自动化 git 的合并和打标签等操作。</li>
</ul>
<p>由于上述的原因，部署建对于需要添加私有依赖项的项目功能不够强大。</p>
<h2 id="关于安全因素">关于安全因素？</h2>
<p>私钥对于CircleCi生成的密钥绝对不会离开CircleCi系统，只有公钥会被传输给GitHub。私钥会被安全加密的存储。然而，当你将私钥用于你构建的容器，你的CircleCi的任何代码都可以读到他们。</p>
<h2 id="部署密钥和用户密钥的区别">部署密钥和用户密钥的区别？</h2>
<p>部署密钥和用户密钥是GitHub唯一支持的密钥类型。部署密钥是全局唯一的，举例来说，没有机制能使部署密钥访问多个仓库。而用户密钥没有分割区域，用户可以访问所有与之相关的仓库。</p>
<p>为了实现访问多个不同的仓库，应该考录常见一个GitHub的机器用户。给这个用户你构建项目所需要的权限，然后再CircleCi上关联用户密钥到你的项目。</p>
<h1 id="关于github机器用户">关于GitHub机器用户</h1>
<p>如果你的服务需要访问多个仓库，你可以创建一个新的GitHub账户，然后连接的SSH密钥，仅仅用以项目的自动化。这样的Github账户不会被用户使用，这样的Github账户被称作机器账户。你可以添加一个机器用户作为个人账户的合作者（授予读写权限），或者作为公共仓库的外有合作者（授予读写或者管理者权限），或者作为需要自动化的团队仓库。</p>
<blockquote>
<p>GitHub服务条框是: 不允许机器或者自动化注册账户. 这表示你不能自动创建账户.但是如果你只是创建一个私有用户来为你的项目或者组织运行自动化脚本,这么做是推荐的.</p>
</blockquote>
<h2 id="pros">Pros</h2>
<ul>
<li>任何有权访问仓库或者服务的人都有能力部署项目.</li>
<li>真实用户,或者说是人类用户,不需要改变他们的本地SSH密钥.</li>
<li>多个密钥是不需要的,一个服务就够了.</li>
</ul>
<h2 id="cons">Cons</h2>
<ul>
<li>只有组织能够限制机器用户值有读写权限.个人仓库总是授予合作者读写权限.</li>
<li>机器用户密钥和部署密钥一样,不受密码保护.</li>
</ul>
<h2 id="创建">创建</h2>
<ol type="1">
<li><a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/#generating-a-new-ssh-key">运行ssh-keygen过程</a>在你的服务器上,然后通过机器用户连接公钥.</li>
<li>给及其用户你想自动化的仓库.你可以通过添加账户作为合作者,作为一个外界合作者,或者组织的一个团队.</li>
</ol>
<h1 id="gh-pages实践步骤">gh-pages实践步骤</h1>
<h2 id="创建机器用户-1">1. 创建机器用户</h2>
<p>经过上面的介绍，基本上应该知道。<code>push</code> dist 目录到相应的分支，这里需要用到<code>push</code>的权限。我们必不可少的就是需要一个用户密钥。使用用户密钥的方法就是利用新创建一个git用户，下面我创建了一个<code>hddMachine</code>的用户。然后原仓库的管理者将机器用户添加到合作者中，然后在CircleCI中生成对应的<code>fingerprints</code>，并添加到下面的yml文件。这样当我们每次<code>push</code>的时候就会调用机器用户权限来使用 git 命令。</p>
<h2 id="git">git</h2>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">working_directory:</span> <span class="string">~/repo</span> <span class="comment"># directory where steps will run</span></span><br><span class="line">    <span class="attr">docker:</span> <span class="comment"># use the docker executor type; machine and macos executors are also supported</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">circleci/node:8.10</span> <span class="comment"># the primary container, where your job's commands are run</span></span><br><span class="line">    <span class="attr">filters:</span></span><br><span class="line">      <span class="attr">branches:</span></span><br><span class="line">        <span class="attr">only:</span> <span class="string">master</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">add_ssh_keys:</span></span><br><span class="line">          <span class="attr">fingerprints:</span> <span class="string">'41:f1:b3:2d:89:ff:f0:16:a4:eb:49:92:39:27:95:04'</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">checkout</span> <span class="comment"># check out the code in the project directory</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">update-npm</span></span><br><span class="line">          <span class="attr">command:</span> <span class="string">'sudo npm install -g npm@latest'</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">restore_cache:</span> <span class="comment"># special step to restore the dependency cache</span></span><br><span class="line">          <span class="comment"># Read about caching dependencies: https://circleci.com/docs/2.0/caching/</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">dependency-cache-&#123;&#123;</span> <span class="string">checksum</span> <span class="string">"package.json"</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">install-npm</span></span><br><span class="line">          <span class="attr">command:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">save_cache:</span> <span class="comment"># special step to save the dependency cache</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">dependency-cache-&#123;&#123;</span> <span class="string">checksum</span> <span class="string">"package.json"</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">paths:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./node_modules</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="comment"># run build</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">build</span></span><br><span class="line">          <span class="attr">command:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">run:</span> <span class="comment"># git push</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">push-github</span></span><br><span class="line">          <span class="attr">command:</span> <span class="string">|</span></span><br><span class="line">            <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">"975018306@qq.com"</span></span><br><span class="line">            <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">"hddMachine"</span></span><br><span class="line">            <span class="string">git</span> <span class="string">add</span> <span class="string">-f</span> <span class="string">dist</span></span><br><span class="line">            <span class="string">git</span> <span class="string">commit</span> <span class="string">-m</span> <span class="string">'create dist'</span></span><br><span class="line">            <span class="string">git</span> <span class="string">push</span> <span class="string">origin</span> <span class="string">`git</span> <span class="string">subtree</span> <span class="string">split</span> <span class="string">--prefix</span> <span class="string">dist</span> <span class="string">master`:gh-pages</span> <span class="string">--force</span></span><br></pre></td></tr></table></figure>
<h1 id="参考">参考</h1>
<ul>
<li>https://circleci.com/docs/2.0/configuration-reference/#add_ssh_keys</li>
<li>https://circleci.com/docs/2.0/language-javascript/</li>
<li>https://github.com/CircleCI-Public/circleci-demo-javascript-express/blob/master/.circleci/config.yml</li>
<li><a href="https://stackoverflow.com/questions/13756055/git-subtree-subtree-up-to-date-but-cant-push">git-subtree-cant-push</a></li>
<li><a href="https://circleci.com/docs/2.0/gh-bb-integration/?tdsourcetag=s_pctim_aiomsg">GitHub和Bitbucket使用CircleCI</a></li>
</ul>
</div><div class="article-tags size-small is-uppercase mb-4"><i class="fas fa-tags has-text-grey"></i> <a class="link-muted mr-2" rel="tag" href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/">自动化</a><a class="link-muted mr-2" rel="tag" href="/tags/git/">git</a><a class="link-muted mr-2" rel="tag" href="/tags/GitHub/">GitHub</a><a class="link-muted mr-2" rel="tag" href="/tags/CircleCI/">CircleCI</a><p class="text-right font1_1"><time datetime="2020-03-27T08:06:33.234Z"><strong><em> 本文最后修改于: 2020-03-27.</em></strong></time></p></div><ul class="post-copyright"><li><strong>本文标题：</strong><a href="https://hddhyq.github.io/2019/01/31/CircleCI实践gh-pages部署/">CircleCI实践gh-pages部署</a></li><li><strong>本文作者：</strong><a href="https://hddhyq.github.io">hddhyq</a></li><li><strong>本文链接：</strong><a href="https://hddhyq.github.io/2019/01/31/CircleCI实践gh-pages部署/">https://hddhyq.github.io/2019/01/31/CircleCI实践gh-pages部署/</a></li><li><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</li></ul><div><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 相关文章</span><br><span>  1.<a class="is-size-6" href="/2019/01/25/CircleCI%E7%AE%80%E5%8D%95%E6%A6%82%E5%BF%B5/" target="_blank">CircleCI简单概念</a><br></span></div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share" data-wechat-qrcode-helper=""></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/03/30/webpack%E5%9F%BA%E7%A1%80-1/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">webpack基础(一)：为什么选择Webpack</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2019/01/25/CircleCI%E7%AE%80%E5%8D%95%E6%A6%82%E5%BF%B5/"><span class="level-item">CircleCI简单概念</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.6.0/dist/gitalk.css"><script> $.getScript('/js/gitalk.min.js', function () { 
            var gitalk = new Gitalk({
            id: '9bf42b0a68d46b102c0a1507727f186c',
            repo: 'blog_comments',
            owner: 'hddhyq',
            clientID: 'a03371b663a2b8d82494',
            clientSecret: '4ef09e925b4d1c73a5e16d5f7a811bcc2e787c4c',
            admin: ["hddhyq"],
            createIssueManually: true,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: 'last',
            
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget toc-scroll" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex" id="toc-item-使你circleci的项目能够检出私有仓库" href="#使你circleci的项目能够检出私有仓库"><span>使你CircleCI的项目能够检出私有仓库</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-用户密钥安全" href="#用户密钥安全"><span>用户密钥安全</span></a></li><li><a class="is-flex" id="toc-item-用户密钥访问相关错误信息" href="#用户密钥访问相关错误信息"><span>用户密钥访问相关错误信息</span></a></li></ul></li><li><a class="is-flex" id="toc-item-创建机器用户" href="#创建机器用户"><span>创建机器用户</span></a></li><li><a class="is-flex" id="toc-item-权限概述" href="#权限概述"><span>权限概述</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-读权限" href="#读权限"><span>读权限</span></a></li><li><a class="is-flex" id="toc-item-写权限" href="#写权限"><span>写权限</span></a></li><li><a class="is-flex" id="toc-item-团队账户权限" href="#团队账户权限"><span>团队账户权限</span></a></li><li><a class="is-flex" id="toc-item-如何为github组织重新启用circleci" href="#如何为github组织重新启用circleci"><span>如何为GitHub组织重新启用CircleCI</span></a></li></ul></li><li><a class="is-flex" id="toc-item-部署密钥和用户密钥" href="#部署密钥和用户密钥"><span>部署密钥和用户密钥</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-什么是部署密钥" href="#什么是部署密钥"><span>什么是部署密钥？</span></a></li><li><a class="is-flex" id="toc-item-什么是用户密钥" href="#什么是用户密钥"><span>什么是用户密钥？</span></a></li><li><a class="is-flex" id="toc-item-创建github用户密钥" href="#创建github用户密钥"><span>创建GitHub用户密钥</span></a></li><li><a class="is-flex" id="toc-item-这些键是怎么用的" href="#这些键是怎么用的"><span>这些键是怎么用的？</span></a></li><li><a class="is-flex" id="toc-item-关于安全因素" href="#关于安全因素"><span>关于安全因素？</span></a></li><li><a class="is-flex" id="toc-item-部署密钥和用户密钥的区别" href="#部署密钥和用户密钥的区别"><span>部署密钥和用户密钥的区别？</span></a></li></ul></li><li><a class="is-flex" id="toc-item-关于github机器用户" href="#关于github机器用户"><span>关于GitHub机器用户</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-pros" href="#pros"><span>Pros</span></a></li><li><a class="is-flex" id="toc-item-cons" href="#cons"><span>Cons</span></a></li><li><a class="is-flex" id="toc-item-创建" href="#创建"><span>创建</span></a></li></ul></li><li><a class="is-flex" id="toc-item-gh-pages实践步骤" href="#gh-pages实践步骤"><span>gh-pages实践步骤</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-创建机器用户-1" href="#创建机器用户-1"><span>1. 创建机器用户</span></a></li><li><a class="is-flex" id="toc-item-git" href="#git"><span>git</span></a></li></ul></li><li><a class="is-flex" id="toc-item-参考" href="#参考"><span>参考</span></a></li></ul></div></div><script type="text/javascript" async>
        $(document).ready(function () { //参考自 https://github.com/ppoffice/hexo-theme-icarus/pull/616/files
            var observerTopMargin;
            var scrollObserver;
            var headerElems = $(".headerlink");
            var activeTocItem;
        
            function initIntersectionObserver(docHeight) {
                observerTopMargin = docHeight;
                scrollObserver = new IntersectionObserver(scrollCallBack,
                    {
                        root: null,  // viewpoint
                        rootMargin: docHeight + "px 0px -80% 0px"  // cover top 30% of viewport to the top of document
                    })
            }
        
            function scrollCallBack(entries, observer) {
                if ($(window).scrollTop() > observerTopMargin * 0.7) { 
                    // User somehow scroll to 70% of observerTopMargin (which is inited as 200% document height)
                    // Observer top margin need to extend to cover all the space to the top of the document
                    initIntersectionObserver(observerTopMargin * 2)
                    observer.disconnect();
                    return;
                }
                let toActive;
                if (entries[0].intersectionRatio == 1) {  // enter viewed area
                    let entry = entries.reduce((u, v) => (u.target.toc_id > v.target.toc_id ? u : v));  // get the lowest item
                    toActive = $("#toc-item-" + $(entry.target).attr("href").substr(1));
                } else {
                    let entry = entries.reduce((u, v) => (u.target.toc_id < v.target.toc_id ? u : v));  // get the highest item
                    let idx = Math.max(entry.target.toc_id - 1, 0);
                    toActive = $("#toc-item-" + $(headerElems[idx]).attr("href").substr(1));
                }
                if (activeTocItem) activeTocItem.removeClass("is-current");
                activeTocItem = toActive
                activeTocItem.addClass("is-current");
            }
        
            initIntersectionObserver($(document).height() * 2);
            headerElems.each(function (index, obj) {
                obj.toc_id = index;
                scrollObserver.observe(obj);
            })
        });</script></div><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="https://www.gravatar.com/avatar/6dd1668d5e30a1368a1c35d9511b237b?s=128" alt="hddhyq"></figure><p class="title is-size-4 is-block line-height-inherit">hddhyq</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">48</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">27</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">56</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/hddhyq" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/hddhyq"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:brokenbonesdd@gmail.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新评论</h3><span class="body_hot_comment">加载中，最新评论有1分钟延迟...</span></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-18T15:30:39.000Z">2020-05-18</time></p><p class="title is-6"><a class="link-muted" href="/2020/05/18/intro-docker/">简介Docker容器</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/DevOps/">DevOps</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-26T15:05:31.000Z">2020-04-26</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/26/browser-cache-control/">浏览器缓存详解</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Browser/">Browser</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-03-24T09:30:16.000Z">2020-03-24</time></p><p class="title is-6"><a class="link-muted" href="/2020/03/24/%E6%9E%84%E5%BB%BA%E7%AE%80%E6%98%93%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88%E5%99%A8/">构建简易网页浏览器</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Browser/">Browser</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-02-06T11:48:22.000Z">2020-02-06</time></p><p class="title is-6"><a class="link-muted" href="/2020/02/06/%E6%8A%BD%E8%B1%A1%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%A4%9A%E9%87%8D%E8%A1%A8%E7%A4%BA/">抽象系统的多重表示</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/sicp/">sicp</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-11-18T15:29:10.000Z">2019-11-18</time></p><p class="title is-6"><a class="link-muted" href="/2019/11/18/%E4%BD%A0%E6%89%80%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84CSS%E5%8F%98%E9%87%8F%E7%9F%A5%E8%AF%86%E7%82%B9/">你所需要了解的CSS变量知识点</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/CSS/">CSS</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Browser/"><span class="level-start"><span class="level-item">Browser</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CircleCI/"><span class="level-start"><span class="level-item">CircleCI</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/DevOps/"><span class="level-start"><span class="level-item">DevOps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/HTML/"><span class="level-start"><span class="level-item">HTML</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/HTTP/"><span class="level-start"><span class="level-item">HTTP</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JS/"><span class="level-start"><span class="level-item">JS</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JStricks/"><span class="level-start"><span class="level-item">JStricks</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Puppeteer/"><span class="level-start"><span class="level-item">Puppeteer</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Webpack/"><span class="level-start"><span class="level-item">Webpack</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">四月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">三月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">二月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/11/"><span class="level-start"><span class="level-item">十一月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/CSS/"><span class="tag">CSS</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JS/"><span class="tag">JS</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Webpack/"><span class="tag">Webpack</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/foundation/"><span class="tag">foundation</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="tag">设计模式</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JS/"><span class="tag">你不知道的JS</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/html5/"><span class="tag">html5</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongodb/"><span class="tag">mongodb</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CircleCI/"><span class="tag">CircleCI</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/express/"><span class="tag">express</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">算法</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"><span class="tag">自动化</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Puppeteer/"><span class="tag">Puppeteer</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DevOps/"><span class="tag">DevOps</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web%E4%BC%98%E5%8C%96/"><span class="tag">Web优化</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web%E6%80%A7%E8%83%BD/"><span class="tag">Web性能</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/async/"><span class="tag">async</span><span class="tag is-grey-lightest">1</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://images-1253206717.cos.ap-guangzhou.myqcloud.com/blog/logo.png" alt="hddhyq&#039;s blog" height="28"></a><p class="size-small"><span>&copy; 2020 hddhyq</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a> <br>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br>    方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br><div class="size-small"><span id="busuanzi_container_site_uv">❤️感谢<strong> <span id="busuanzi_value_site_uv">99+</span> </strong></span>小伙伴的<strong> <span id="busuanzi_value_site_pv">99+</span> </strong>次光临，查看💐</div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://hddhyq.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back-to-top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.12/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/comment-issue-data.js" defer></script><link rel="stylesheet" href="/css/insight.css"><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="想要查找什么..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>(function (window) {
            var INSIGHT_CONFIG = {
                TRANSLATION: {
                    POSTS: '文章',
                    PAGES: '页面',
                    CATEGORIES: '分类',
                    TAGS: '标签',
                    UNTITLED: '(无标题)',
                },
                CONTENT_URL: '/content.json',
            };
            window.INSIGHT_CONFIG = INSIGHT_CONFIG;
        })(window);</script><script src="/js/insight.js" defer></script></body></html>