<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="baidu-site-verification" content="hoM8zKNZAC"><meta><title>了解ESLint - hddhyq&#039;s blog</title><meta description="原由是想写一个 繁简体 的业务检查，进而一步一步的了解了 ESLint 这个工具~"><meta property="og:type" content="article"><meta property="og:title" content="了解ESLint"><meta property="og:url" content="https://hddhyq.github.io/2021/02/27/know-eslint/"><meta property="og:site_name" content="hddhyq&#039;s blog"><meta property="og:description" content="原由是想写一个 繁简体 的业务检查，进而一步一步的了解了 ESLint 这个工具~"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://en.gravatar.com/userimage/154887614/195fa361a4d6896c0a6115026aefb041.png?size=300"><meta property="article:published_time" content="2021-02-27T13:39:28.000Z"><meta property="article:modified_time" content="2021-05-05T06:54:54.206Z"><meta property="article:author" content="hddhyq"><meta property="article:tag" content="ESLint"><meta property="article:tag" content="Project"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://en.gravatar.com/userimage/154887614/195fa361a4d6896c0a6115026aefb041.png?size=300"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hddhyq.github.io/2021/02/27/know-eslint/"},"headline":"了解ESLint","image":[],"datePublished":"2021-02-27T13:39:28.000Z","dateModified":"2021-05-05T06:54:54.206Z","author":{"@type":"Person","name":"hddhyq"},"description":"原由是想写一个 繁简体 的业务检查，进而一步一步的了解了 ESLint 这个工具~"}</script><link rel="alternative" href="/atom.xml" title="hddhyq&#039;s blog" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.12/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="stylesheet" href="/css/style.css"><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="/js/globalUtils.js"></script></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://images-1253206717.cos.ap-guangzhou.myqcloud.com/blog/logo.png" alt="hddhyq&#039;s blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/message">留言</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/hddhyq"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2021-02-27T13:39:28.000Z">2021-02-27</time><a class="commentCountImg" href="/2021/02/27/know-eslint/#comment-container"><span class="display-none-class">8f0e6657660dc6d46cf087b13311b452</span><img class="not-gallery-item" src="/img/chat.svg"> <span class="commentCount" id="8f0e6657660dc6d46cf087b13311b452"> 99+</span>    </a><span class="level-item"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Lint/">Lint</a></span><span class="level-item">19 分钟 读完 (大约 2806 个字)</span><span class="level-item" id="busuanzi_container_page_pv"><i class="far fa-eye"></i>&nbsp;&nbsp;<span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">了解ESLint</h1><div class="content"><p><img src="https://images-1253206717.cos.ap-guangzhou.myqcloud.com/blog/project/eslint-logo.png" /></p>
<p>原由是想写一个 繁简体 的业务检查，进而一步一步的了解了 ESLint 这个工具~ <a id="more"></a> ## ESLint的历史 JavaScript 发展历史中，出现了很多 lint 工具，比较有代表性的是以下三款lint工具。</p>
<h4 id="jslint">1. <a href="https://jslint.com/help.html">JSLint</a></h4>
<p>最早的lint工具，由 <a href="https://zh.wikipedia.org/wiki/%E9%81%93%E6%A0%BC%E6%8B%89%E6%96%AF%C2%B7%E5%85%8B%E7%BE%85%E5%85%8B%E7%A6%8F%E7%89%B9">Douglas Crockford</a>开发(也是《JavaScript：语言精粹》的作者)。缺点是该工具的语法规则都是预设的，用户无法改变。也就是说，想要使用这个工具，你必须确保自己能接受它的所有规则。</p>
<h4 id="jshint">2. <a href="https://jshint.com/docs/">JSHint</a></h4>
<p>JSHint 是由 Anton Kovalyov 基于 JSLint 开发的开源项目，显著的特点就是允许用户自定义自己的语法规则，加持上开源社区的驱动，发展十分迅速。由于是基于 JSLint 开发，原有的一些问题也继承下来了，比如：不易扩展，不易直接根据报错定位到具体的规则配置等。</p>
<h4 id="eslint">3. <a href="https://eslint.org/">ESLint</a></h4>
<p>ESLint是由 <a href="https://github.com/nzakas/">Nicholas C. Zakas</a> (《JavaScript 高级程序设计》作者) 在2013年开始开发的，它的初衷就是为了能让开发者能自定义自己的 lint rules，它提供了一套完善的插件系统，可以自由的扩展，动态的加载配置，同时能方便的根据报错定位到具体的规则配置。ESLint的诞生并不是 Zakas 在重复造一个轮子，而是他在业务开发中需要新增一条规则，但是 JSHint 无法提供支持，于是他就结合 JSHint 和 <a href="https://jscs-dev.github.io/">JSCS</a> (AST的方式进行规则检测) 写出来了 ESLint。</p>
<p>早期的 ESLint 并没有大火，因为需要将源代码转成 AST，运行速度上输给了 JSHint，并且 JSHint 当时已经有了完整的生态（编辑器的支持）。真正让 ESLint 大火是因为 ES6 的出现。</p>
<p>ES6 发布后，因为新增了很多语法，JSHint 短期内无法提供支持，而 ESLint 只需要有合适的解析器就能够进行 lint 检查。这时 <a href="https://babeljs.io/">Babel</a> 为 ESLint 提供了支持，开发了 babel-eslint，让 ESLint 成为最快支持 ES6 语法的 lint 工具。</p>
<h2 id="使用eslint">使用ESLint</h2>
<p>ESLint 的用法包含两部分：通过配置文件配置 lint 规则；通过命令行执行 lint 。</p>
<h3 id="配置eslint">配置eslint</h3>
<p>通过 <code>eslint --init</code> 做出各种选择是最常见的 eslint 配置方式： <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> eslint --init</span></span><br><span class="line">√ How would you like to use ESLint? · problems</span><br><span class="line">√ What type of modules does your project use? · commonjs</span><br><span class="line">√ Which framework does your project use? · none</span><br><span class="line">√ Does your project use TypeScript? · No / Yes</span><br><span class="line">√ Where does your code run? · browser</span><br><span class="line">√ What format do you want your config file to be in? · JavaScript</span><br></pre></td></tr></table></figure> 上述选择之后，根目录会新生成一个 <code>.eslintrc.js</code> 文件。 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* .eslintrc.js */</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="string">"env"</span>: &#123;</span><br><span class="line">        <span class="string">"browser"</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">"commonjs"</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">"es2021"</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"extends"</span>: <span class="string">"eslint:recommended"</span>,</span><br><span class="line">    <span class="string">"parserOptions"</span>: &#123;</span><br><span class="line">        <span class="string">"ecmaVersion"</span>: <span class="number">12</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"rules"</span>: &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>然后通过 命令行 的交互就能去检查对应的 js 文件了。 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint demo.js</span><br></pre></td></tr></table></figure></p>
<h2 id="创建-eslint-自定义规则">创建 ESLint 自定义规则</h2>
<h3 id="npm-安装">1. npm 安装</h3>
<p>根据 ESLint 的官方指南，我们需要 yeoman 和 generator-eslint 来构建插件的脚手架代码。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g yo generator-eslint</span><br></pre></td></tr></table></figure>
<h3 id="创建文件夹">2. 创建文件夹</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir eslint-plugin-demo</span><br><span class="line">cd eslint-plugin-demo</span><br></pre></td></tr></table></figure>
<h3 id="初始化项目结构">3. 初始化项目结构</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yo eslint:plugin</span><br></pre></td></tr></table></figure>
<p>会进入对应的命令行交互流程，流程结束生成 ESLint 插件项目的目录结构</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">? What is your name? hddhyq</span><br><span class="line">? What is the plugin ID? demolint  # 插件的ID是什么 eslint-plugin-&lt;ID&gt;</span><br><span class="line">? Type a short description of this plugin: demo for create ESLint rule # 描述信息</span><br><span class="line">? Does this plugin contain custom ESLint rules? Yes # 是否包含自定义ESLint规则</span><br><span class="line">? Does this plugin contain one or more processors? No # 这个插件包含一个或多个处理器吗</span><br><span class="line">   create package.json</span><br><span class="line">   create lib\index.js</span><br><span class="line">   create README.md</span><br></pre></td></tr></table></figure>
<h3 id="创建规则">4. 创建规则</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yo eslint:rule</span><br></pre></td></tr></table></figure>
<p>创建规则命令行交互： <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">? What is your name? hddhyq</span><br><span class="line">? Where will this rule be published? (Use arrow keys) # 这个规则将在哪里发布</span><br><span class="line">  ESLint Core  # 官方的核心规则 (目前有200多条规则)</span><br><span class="line">❯ ESLint Plugin  # 选择 ESLint 插件</span><br><span class="line">? What is the rule ID? no-wareware</span><br><span class="line">? Type a short description of this rule: 禁止使用~~转换数字</span><br><span class="line">? Type a short example of the code that will fail: var a = ~~100 # 测试代码</span><br><span class="line">   create docs\rules\no-wareware.md # 使用文档</span><br><span class="line">   create lib\rules\no-wareware.js  # 校验文件</span><br><span class="line">   create tests\lib\rules\no-wareware.js # 测试文件</span><br></pre></td></tr></table></figure></p>
<h2 id="eslint-如何验证规则">ESLint 如何验证规则</h2>
<p>Lint 是基于静态代码进行分析，对于 ESLint 来说，核心功能就是对 rule 及其配置，利用 Lint 分析源码。这里就需要介绍到 AST(抽象语法树) ，相信大家对它一定都用一定的了解，像Babel，Webpack，UglifyJS 等都使用到了 AST 。</p>
<h3 id="关于-ast">关于 AST</h3>
<p>ESLint 使用 <a href="https://github.com/eslint/espree">Espree</a> 来解析我们的 JS 语句，来生成抽象语法树。我们可以使用<a href="https://astexplorer.net/">AST explorer</a> ，方便查看一段代码被解析成 AST 后的样子。</p>
<figure>
<img src="https://images-1253206717.cos.ap-guangzhou.myqcloud.com/blog/project/eslint_ast.png" alt="" /><figcaption>AST展示</figcaption>
</figure>
<p>从上图可以看出，我们鼠标在右侧选中某个值，左侧对应的区域也会高亮展示。就像 CSS Selectors 一样，右侧被选中的项，我们称作 AST selectors 。</p>
<ul>
<li><a href="https://cn.eslint.org/docs/developer-guide/selectors">https://cn.eslint.org/docs/developer-guide/selectors</a></li>
<li><a href="https://github.com/estools/esquery">https://github.com/estools/esquery</a></li>
</ul>
<p>通过 AST selectors 我们可以快速的找到 静态代码中的内容 。 ### 单条 rule 如何工作？ 这里看一下，我们自定义的规则 <code>"eslint-plugin-demo/no-wareware": "error"</code> 。源码如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    meta: &#123;</span><br><span class="line">        docs: &#123;</span><br><span class="line">            description: "禁止使用~~转换数字",</span><br><span class="line">        &#125;,</span><br><span class="line">        fixable: null,  // or "code" or "whitespace"</span><br><span class="line">        schema: []</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    create: function(context) &#123;</span><br><span class="line"></span><br><span class="line">        return  &#123;</span><br><span class="line">            UnaryExpression(node) &#123;</span><br><span class="line">                if (node.operator === '~' &amp;&amp; node.argument.operator === '~') &#123;</span><br><span class="line">                    context.report(&#123;</span><br><span class="line">                        node,</span><br><span class="line">                        message: '請使用 + 代替 ~~ 運算符'</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>可以看到，一条 rule 就是一个 node 模块，主要由 <code>meta</code> 和 <code>create</code> 两部分组成，</p>
<ul>
<li><code>meta</code> 代表了这条规则的元数据，比如类别，文档，可接受的参数 <code>schema</code> 等，<a href="https://eslint.org/docs/developer-guide/working-with-rules#rule-basics">官方文档</a>对其有详细描述。</li>
<li><code>create</code> 主要表达了这条 rule 具体会怎么分析处理代码。</li>
</ul>
<p>上面的代码，在运行到 <code>UnaryExpression</code> 会判断它的操作符是否为"<sub>"，并判断是否下一个操作符是否也为"</sub>"。如果匹配到，就会抛出错误。</p>
<p>拓展，关于 <code>selector:exit</code></p>
<ul>
<li>ESLint 的 traverser 用到了递归遍历，是一个由外向内再向外的过程，<code>:exit</code> 相当于添加了一重额外的回调，让我们对静态代码有了更多的控制。</li>
<li>ESLint 好像也能帮我们找到永远不会执行的语句，如：<a href="https://github.com/eslint/eslint/blob/master/lib/rules/no-unreachable.js">no-unreachable</a>。ESLint 会通过 <a href="https://eslint.org/docs/developer-guide/code-path-analysis">code path analysis</a> 完成这一步骤。</li>
</ul>
<h3 id="rule-如何组合生效">rule 如何组合生效？</h3>
<p>我们由多种途径传递 rule。</p>
<ol type="1">
<li>配置文件中 rule。</li>
<li>文件内部注释评论的 rule，这部分 rule，被称作 direcive rule。</li>
</ol>
<p>ESLint 在获取到了所有需要对单个文件应用的规则之后，接下来就是也该多重遍历的过程。源码位于<a href="https://github.com/eslint/eslint/blob/master/lib/linter/linter.js#L833">runRules</a> 函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 节选源码</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runRules</span>(<span class="params">sourceCode, configuredRules, ruleMapper, parserOptions, parserName, settings, filename</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> emitter = createEmitter();</span><br><span class="line">    <span class="keyword">const</span> nodeQueue = [];</span><br><span class="line">    <span class="keyword">let</span> currentNode = sourceCode.ast;</span><br><span class="line"></span><br><span class="line">    Traverser.traverse(sourceCode.ast, &#123;</span><br><span class="line">        enter(node, parent) &#123;</span><br><span class="line">            node.parent = parent;</span><br><span class="line">            nodeQueue.push(&#123; <span class="attr">isEntering</span>: <span class="literal">true</span>, node &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        leave(node) &#123;</span><br><span class="line">            nodeQueue.push(&#123; <span class="attr">isEntering</span>: <span class="literal">false</span>, node &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        visitorKeys: sourceCode.visitorKeys</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> lintingProblems = [];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Object</span>.keys(configuredRules).forEach(<span class="function"><span class="params">ruleId</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> severity = ConfigOps.getRuleSeverity(configuredRules[ruleId]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (severity === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> rule = ruleMapper(ruleId);</span><br><span class="line">        <span class="keyword">const</span> messageIds = rule.meta &amp;&amp; rule.meta.messages;</span><br><span class="line">        <span class="keyword">let</span> reportTranslator = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">const</span> ruleContext = <span class="built_in">Object</span>.freeze(</span><br><span class="line">            <span class="built_in">Object</span>.assign(</span><br><span class="line">                <span class="built_in">Object</span>.create(sharedTraversalContext),</span><br><span class="line">                &#123;</span><br><span class="line">                    id: ruleId,</span><br><span class="line">                    options: getRuleOptions(configuredRules[ruleId]),</span><br><span class="line">                    report(...args) &#123;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (reportTranslator === <span class="literal">null</span>) &#123;...&#125;</span><br><span class="line">                        <span class="keyword">const</span> problem = reportTranslator(...args);</span><br><span class="line">                        <span class="keyword">if</span> (problem.fix &amp;&amp; rule.meta &amp;&amp; !rule.meta.fixable) &#123;</span><br><span class="line">                            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Fixable rules should export a `meta.fixable` property."</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                        lintingProblems.push(problem);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> ruleListeners = createRuleListeners(rule, ruleContext);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// add all the selectors from the rule as listeners</span></span><br><span class="line">        <span class="built_in">Object</span>.keys(ruleListeners).forEach(<span class="function"><span class="params">selector</span> =&gt;</span> &#123;</span><br><span class="line">            emitter.on();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> eventGenerator = <span class="keyword">new</span> CodePathAnalyzer(<span class="keyword">new</span> NodeEventGenerator(emitter));</span><br><span class="line"></span><br><span class="line">    nodeQueue.forEach(<span class="function"><span class="params">traversalInfo</span> =&gt;</span> &#123;</span><br><span class="line">        currentNode = traversalInfo.node;</span><br><span class="line">        <span class="keyword">if</span> (traversalInfo.isEntering) &#123;</span><br><span class="line">            eventGenerator.enterNode(currentNode);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            eventGenerator.leaveNode(currentNode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> lintingProblems;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol type="1">
<li>遍历依据源码生成的 AST ，将每一个 node 传入 nodeQueue 队列中，每个会被传入两次。</li>
<li>遍历所有将被应用的规则，为规则中所有的选择器添加监听事件，在触发时执行，将问题 push 到 <code>lintingProblems</code> 中。</li>
<li>遍历第一步获取到的 nodeQueue，触发其中包含的事件。</li>
<li>返回 lintingProblems。</li>
</ol>
<p>这里用到了 node 的事件驱动机制，遍历的同时触发监听事件。</p>
<h2 id="plugin">Plugin</h2>
<p>plugin 大致可以两重概念：</p>
<ol type="1">
<li>在 ESLint 配置项的字段，如 <code>plugins: ["demo"]</code>，调用我们上面的自定义 plugin 。</li>
<li>社区封装的 ESLint plugin，像 eslint-plugin-vue 这样 npm 模块。</li>
</ol>
<p>plugin 可以看作第三方规则的集合，ESLint 本身只会去支持标准的 ECMAScript 语法，如果我们需要在 Vue 中使用ESLint ，我们需要自己去定义一些规则，这样就有了 <a href="https://eslint.vuejs.org/">eslint-plugin-vue</a>。</p>
<p>plugin的配置规则和ESLint配置文件很相似，关于如何去配置 plugin，我们可以通过 <a href="https://eslint.org/docs/developer-guide/working-with-plugins">working-with-plugins</a> 去查看。</p>
<p>这里我们特别需要关注的是 plugin 的两种用法。</p>
<ul>
<li>在 <code>extends</code> 中使用，plugin有自己的命名空间，可通过 <code>"extends": ["plugin: myPlugin/myConfig"]</code> 引入plugin 的某类规则，具体规则是由plugin中配置的。</li>
<li>在 <code>plugin</code> 中使用，如添加配置 <code>plugin: ["vue"]</code>，需要在 rule 中声明需要配置的 eslint-plugin-vue 提供的规则。</li>
</ul>
<h2 id="自定义parser">自定义Parser</h2>
<p>plugin 的应用已经大大的增加了 ESLint 的使用规则，但是如果我们需要对一些 JS 的方言添加 Lint 在怎么办呢？</p>
<p>只需要满足 ESLint 的规定，便能使 ESLint 支持我们的<a href="https://eslint.org/docs/developer-guide/working-with-custom-parsers">自定义 parser</a> 。</p>
<p>在社区中，我们常见的 parser 有</p>
<ul>
<li><a href="https://github.com/babel/babel/tree/main/eslint/babel-eslint-parser">babel-eslint-parser</a></li>
<li><a href="https://github.com/typescript-eslint/typescript-eslint">typescript-eslint</a></li>
<li><a href="https://github.com/vuejs/eslint-plugin-vue">eslint-plugin-vue</a></li>
</ul>
<p>自定义的 parser 使用方法如下 <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"parser"</span>: <span class="string">"./path/to/awesome-custom-parser.js"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="业务中的使用场景">业务中的使用场景</h2>
<p>除了上面的类似检查 ~~ 的单纯检查编码的场景，还可以将业务中总结的业务规范通过 自定义 ESLint 的方式提示开发者，这对于团队开发，代码维护，确保业务的安全上线都有很大的帮助。</p>
<p>更多的应用场景：</p>
<ul>
<li>代码中不能使用 OSS 地址的静态资源路径，应该使用 CDN 地址的资源路径。</li>
<li>代码中，工具类 utility 通过统一的路径引入。</li>
<li>保证 API 的使用规范。</li>
<li>...</li>
</ul>
<h2 id="参考">参考</h2>
<ul>
<li><a href="https://humanwhocodes.com/blog/2013/07/16/introducing-eslint/">introduce ESLint</a> by Nicholas C. Zakas</li>
<li><a href="https://zhuanlan.zhihu.com/p/34656263/">JS Linter 进化史</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/53680918">ESLint 工作原理探讨</a></li>
<li><a href="https://cn.eslint.org/docs/developer-guide/architecture">ESLint 架构</a></li>
</ul>
<h2 id="拓展">拓展</h2>
<ul>
<li><a href="https://eslint.org/docs/developer-guide/code-path-analysis">code-path-analysis</a></li>
</ul>
</div><div class="article-tags size-small is-uppercase mb-4"><i class="fas fa-tags has-text-grey"></i> <a class="link-muted mr-2" rel="tag" href="/tags/ESLint/">ESLint</a><a class="link-muted mr-2" rel="tag" href="/tags/Project/">Project</a><p class="text-right font1_1"><time datetime="2021-05-05T06:54:54.206Z"><strong><em> 本文最后修改于: 2021-05-05.</em></strong></time></p></div><ul class="post-copyright"><li><strong>本文标题：</strong><a href="https://hddhyq.github.io/2021/02/27/know-eslint/">了解ESLint</a></li><li><strong>本文作者：</strong><a href="https://hddhyq.github.io">hddhyq</a></li><li><strong>本文链接：</strong><a href="https://hddhyq.github.io/2021/02/27/know-eslint/">https://hddhyq.github.io/2021/02/27/know-eslint/</a></li><li><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</li></ul><div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><div class="social-share" data-wechat-qrcode-helper=""></div><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/05/05/vue-surrounding-ecological-upgrade/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Vue3 中周边生态升级</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/05/18/intro-docker/"><span class="level-item">使用Docker容器</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.6.0/dist/gitalk.css"><script> $.getScript('/js/gitalk.min.js', function () { 
            var gitalk = new Gitalk({
            id: '8f0e6657660dc6d46cf087b13311b452',
            repo: 'blog_comments',
            owner: 'hddhyq',
            clientID: 'a03371b663a2b8d82494',
            clientSecret: '4ef09e925b4d1c73a5e16d5f7a811bcc2e787c4c',
            admin: ["hddhyq"],
            createIssueManually: true,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: 'last',
            
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget toc-scroll" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><ul class="menu-list"><ul class="menu-list"><li><a class="is-flex" id="toc-item-jslint" href="#jslint"><span>1. JSLint</span></a></li><li><a class="is-flex" id="toc-item-jshint" href="#jshint"><span>2. JSHint</span></a></li><li><a class="is-flex" id="toc-item-eslint" href="#eslint"><span>3. ESLint</span></a></li></ul></ul><li><a class="is-flex" id="toc-item-使用eslint" href="#使用eslint"><span>使用ESLint</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-配置eslint" href="#配置eslint"><span>配置eslint</span></a></li></ul></li><li><a class="is-flex" id="toc-item-创建-eslint-自定义规则" href="#创建-eslint-自定义规则"><span>创建 ESLint 自定义规则</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-npm-安装" href="#npm-安装"><span>1. npm 安装</span></a></li><li><a class="is-flex" id="toc-item-创建文件夹" href="#创建文件夹"><span>2. 创建文件夹</span></a></li><li><a class="is-flex" id="toc-item-初始化项目结构" href="#初始化项目结构"><span>3. 初始化项目结构</span></a></li><li><a class="is-flex" id="toc-item-创建规则" href="#创建规则"><span>4. 创建规则</span></a></li></ul></li><li><a class="is-flex" id="toc-item-eslint-如何验证规则" href="#eslint-如何验证规则"><span>ESLint 如何验证规则</span></a><ul class="menu-list"><li><a class="is-flex" id="toc-item-关于-ast" href="#关于-ast"><span>关于 AST</span></a></li><li><a class="is-flex" id="toc-item-rule-如何组合生效" href="#rule-如何组合生效"><span>rule 如何组合生效？</span></a></li></ul></li><li><a class="is-flex" id="toc-item-plugin" href="#plugin"><span>Plugin</span></a></li><li><a class="is-flex" id="toc-item-自定义parser" href="#自定义parser"><span>自定义Parser</span></a></li><li><a class="is-flex" id="toc-item-业务中的使用场景" href="#业务中的使用场景"><span>业务中的使用场景</span></a></li><li><a class="is-flex" id="toc-item-参考" href="#参考"><span>参考</span></a></li><li><a class="is-flex" id="toc-item-拓展" href="#拓展"><span>拓展</span></a></li></ul></div></div><script type="text/javascript" async>
        $(document).ready(function () { //参考自 https://github.com/ppoffice/hexo-theme-icarus/pull/616/files
            var observerTopMargin;
            var scrollObserver;
            var headerElems = $(".headerlink");
            var activeTocItem;
        
            function initIntersectionObserver(docHeight) {
                observerTopMargin = docHeight;
                scrollObserver = new IntersectionObserver(scrollCallBack,
                    {
                        root: null,  // viewpoint
                        rootMargin: docHeight + "px 0px -80% 0px"  // cover top 30% of viewport to the top of document
                    })
            }
        
            function scrollCallBack(entries, observer) {
                if ($(window).scrollTop() > observerTopMargin * 0.7) { 
                    // User somehow scroll to 70% of observerTopMargin (which is inited as 200% document height)
                    // Observer top margin need to extend to cover all the space to the top of the document
                    initIntersectionObserver(observerTopMargin * 2)
                    observer.disconnect();
                    return;
                }
                let toActive;
                if (entries[0].intersectionRatio == 1) {  // enter viewed area
                    let entry = entries.reduce((u, v) => (u.target.toc_id > v.target.toc_id ? u : v));  // get the lowest item
                    toActive = $("#toc-item-" + $(entry.target).attr("href").substr(1));
                } else {
                    let entry = entries.reduce((u, v) => (u.target.toc_id < v.target.toc_id ? u : v));  // get the highest item
                    let idx = Math.max(entry.target.toc_id - 1, 0);
                    toActive = $("#toc-item-" + $(headerElems[idx]).attr("href").substr(1));
                }
                if (activeTocItem) activeTocItem.removeClass("is-current");
                activeTocItem = toActive
                activeTocItem.addClass("is-current");
            }
        
            initIntersectionObserver($(document).height() * 2);
            headerElems.each(function (index, obj) {
                obj.toc_id = index;
                scrollObserver.observe(obj);
            })
        });</script></div><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="https://www.gravatar.com/avatar/6dd1668d5e30a1368a1c35d9511b237b?s=128" alt="hddhyq"></figure><p class="title is-size-4 is-block line-height-inherit">hddhyq</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">51</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">29</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">60</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/hddhyq" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/hddhyq"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:brokenbonesdd@gmail.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-white is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新评论</h3><span class="body_hot_comment">加载中，最新评论有1分钟延迟...</span></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2021-06-13T07:46:10.000Z">2021-06-13</time></p><p class="title is-6"><a class="link-muted" href="/2021/06/13/about-write-promise/">《前端开发核心知识进阶》笔记-手写Promise</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/JS/">JS</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-05-05T06:53:24.000Z">2021-05-05</time></p><p class="title is-6"><a class="link-muted" href="/2021/05/05/vue-surrounding-ecological-upgrade/">Vue3 中周边生态升级</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Vue/">Vue</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-02-27T13:39:28.000Z">2021-02-27</time></p><p class="title is-6"><a class="link-muted" href="/2021/02/27/know-eslint/">了解ESLint</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Lint/">Lint</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-18T15:30:39.000Z">2020-05-18</time></p><p class="title is-6"><a class="link-muted" href="/2020/05/18/intro-docker/">使用Docker容器</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/DevOps/">DevOps</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-26T15:05:31.000Z">2020-04-26</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/26/browser-cache-control/">浏览器缓存详解</a></p><p class="is-uppercase"><i class="fas fa-folder-open has-text-grey"> </i><a class="link-muted" href="/categories/Browser/">Browser</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Browser/"><span class="level-start"><span class="level-item">Browser</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/CircleCI/"><span class="level-start"><span class="level-item">CircleCI</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/DevOps/"><span class="level-start"><span class="level-item">DevOps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/HTML/"><span class="level-start"><span class="level-item">HTML</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/HTTP/"><span class="level-start"><span class="level-item">HTTP</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JS/"><span class="level-start"><span class="level-item">JS</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JStricks/"><span class="level-start"><span class="level-item">JStricks</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Lint/"><span class="level-start"><span class="level-item">Lint</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Puppeteer/"><span class="level-start"><span class="level-item">Puppeteer</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/02/"><span class="level-start"><span class="level-item">二月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">四月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/JS/"><span class="tag">JS</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CSS/"><span class="tag">CSS</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Webpack/"><span class="tag">Webpack</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/foundation/"><span class="tag">foundation</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JS/"><span class="tag">你不知道的JS</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="tag">设计模式</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CircleCI/"><span class="tag">CircleCI</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/express/"><span class="tag">express</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/html5/"><span class="tag">html5</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mongodb/"><span class="tag">mongodb</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">算法</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/"><span class="tag">自动化</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Browser/"><span class="tag">Browser</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DevOps/"><span class="tag">DevOps</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ES6/"><span class="tag">ES6</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ESLint/"><span class="tag">ESLint</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GitHub/"><span class="tag">GitHub</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML/"><span class="tag">HTML</span><span class="tag is-grey-lightest">1</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://images-1253206717.cos.ap-guangzhou.myqcloud.com/blog/logo.png" alt="hddhyq&#039;s blog" height="28"></a><p class="size-small"><span>&copy; 2021 hddhyq</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a> <br>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br>    方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br><div class="size-small"><span id="busuanzi_container_site_uv">❤️感谢<strong> <span id="busuanzi_value_site_uv">99+</span> </strong></span>小伙伴的<strong> <span id="busuanzi_value_site_pv">99+</span> </strong>次光临，查看💐</div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://hddhyq.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back-to-top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.12/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/comment-issue-data.js" defer></script><link rel="stylesheet" href="/css/insight.css"><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"><input class="searchbox-input ins-search-input" type="text" placeholder="想要查找什么..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>(function (window) {
            var INSIGHT_CONFIG = {
                TRANSLATION: {
                    POSTS: '文章',
                    PAGES: '页面',
                    CATEGORIES: '分类',
                    TAGS: '标签',
                    UNTITLED: '(无标题)',
                },
                CONTENT_URL: '/content.json',
            };
            window.INSIGHT_CONFIG = INSIGHT_CONFIG;
        })(window);</script><script src="/js/insight.js" defer></script></body></html>